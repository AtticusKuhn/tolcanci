(()=>{"use strict";var e={648:(e,t)=>{t.lR=t.BD=t.id=void 0;const n=()=>"undefined"==typeof window;let s=0;var o;t.id=()=>(s++).toString(),t.BD=e=>s=>(...o)=>{let r=e.document,i="string"==typeof s?r.createElement(s):s;i.noop=()=>i,i.attr=(e,t)=>(i.setAttribute(e,t),i),i.setStaticProps=e=>{if(!n())throw new Error("static props should never be called on client side");return i.staticProps=e,i},i.onStateChangeF=[],i.onStateChange=e=>{i.onStateChangeF.push(e)},i.eventListeners=[],i.realEventListener=i.addEventListener,i.addEventListener=(e,t)=>{i.eventListeners.push({event:e,handler:t}),i.realEventListener(e,t)};const a=e=>{let t=e.cloneNode(!0);for(let n=0;n<e.children.length;n++)t.appendChild(a(e.children[n]));if(console.log("in clone, a.eventListeners",e.eventListeners),e.eventListeners)for(const n of e.eventListeners)t.addEventListener(n.event,n.handler);return t};i.cloneWithEventListeners=()=>a(i),i.secret_id=(0,t.id)();for(const e of o)if("string"==typeof e){let t=r.createTextNode(e);i.append(t.cloneNode(!0))}else if(e instanceof Function){i.attr("listener-id",i.secret_id);let t=e(i.state);t.attr("arg-id",t.secret_id),i.addEventListener(`newState-${i.secret_id}`,(t=>{try{i.append(e(t.detail))}catch(e){console.log("error in hard-coded event listener")}})),r.addEventListener(`newState-${i.secret_id}`,(n=>{console.log("hard-coded event listener called");try{t.innerHTML="",t.append(e(n.detail))}catch(e){console.log("error in hard-coded event listener")}})),i.append(t)}else i.append(e);i.setState=t=>{i.onStateChangeF.length>0&&i.onStateChangeF.forEach((e=>e(t)));let{CustomEvent:n}=e;const s=new n(`newState-${i.secret_id}`,{detail:t});return i.state=t,r.dispatchEvent(s),i};const l=async e=>{let t={};for(let n=0;n<e.children.length;n++)t={...t,...await l(e.children[n])};if(void 0!==e.staticProps){let n=await e.staticProps();e.setState(n),t[e.secret_id]=n}return t};return i.attr("secret-id",i.secret_id),i.getStaticProps=async()=>await l(i),i.setCss=e=>{if("string"==typeof e){let t=e.split(";");for(const e of t){let[t,n]=e.split(":");if(!t||!n)throw new Error(`invalid css prop: ${t} and val: ${n}`);i.style[t]=n}}else{console.log("it's a function"),i.onStateChange((t=>{console.log("onstatechange css"),i.setCss(e(t))}));let t=e(i.state);console.log("css is",t),i.setCss(t)}return i},i},t.lR=(o=["href","referer"],e=>n=>(...s)=>{let r=(0,t.BD)(n)(e)(...s);for(const e of o)r[e]="",r[`$${e}`]=t=>(r[e]=t,r);return r})("a")}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}(()=>{var e=n(648);console.log("[INFO] client runtime intialized");const t=(0,e.BD)(window),[s,o,r]=["div","p","button"].map(t),i=(0,e.lR)(window);console.log("[INFO] example program initialized");const a=s("welcome to tolcanci, a UI framework"),l=s("I am a reusable component"),c=s("we allow for reusable components",l,l),d=r("press me"),p=s((e=>s(s(`the current count ${e}`),s(`the next count wil be ${e+1}`)).setCss(`font-size: ${e+10}px`)),d);p.noop("cheese"),d.addEventListener("click",(()=>{p.setState(p.state+1)}));const h=s("we allow for stateful components",p),v=s("this is a component with static props (generated at build time)",(e=>s(e))).noop("cheese"),f=s("I have style",o("and so do I")).setCss("color:red"),u=i("we support using links").$href("https://www.youtube.com/watch?v=dQw4w9WgXcQ");var w;w=s(a,c,h,v,f,u),document.body.innerHTML="",document.body.append(w)})()})();