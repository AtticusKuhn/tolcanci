(()=>{"use strict";var e={648:(e,t)=>{t.lR=t.BD=t.id=t.sk=void 0,t.sk=()=>"undefined"==typeof window;let n=0;var s;t.id=()=>(n++).toString(),t.BD=e=>n=>(...s)=>{let o=e.document,r="string"==typeof n?o.createElement(n):n;r.noop=()=>r,r.attr=(e,t)=>(r.setAttribute(e,t),r),r.setStaticProps=e=>{if(!(0,t.sk)())throw new Error("static props should never be called on client side");return r.staticProps=e,r},r.onStateChangeF=[],r.onStateChange=e=>{r.onStateChangeF.push(e)},r.eventListeners=[],r.realEventListener=r.addEventListener,r.addEventListener=(e,t)=>{r.eventListeners.push({event:e,handler:t}),r.realEventListener(e,t)};const i=e=>{let t=e.cloneNode(!0);for(let n=0;n<e.children.length;n++)t.appendChild(i(e.children[n]));if(console.log("in clone, a.eventListeners",e.eventListeners),e.eventListeners)for(const n of e.eventListeners)t.addEventListener(n.event,n.handler);return t};r.cloneWithEventListeners=()=>i(r),r.secret_id=(0,t.id)();for(const e of s)if("string"==typeof e){let t=o.createTextNode(e);r.append(t.cloneNode(!0))}else if(e instanceof Function){r.attr("listener-id",r.secret_id);let t=e(r.state);t.attr("arg-id",t.secret_id),r.addEventListener(`newState-${r.secret_id}`,(t=>{try{r.append(e(t.detail))}catch(e){console.log("error in hard-coded event listener")}})),o.addEventListener(`newState-${r.secret_id}`,(n=>{console.log("hard-coded event listener called");try{t.innerHTML="",t.append(e(n.detail))}catch(e){console.log("error in hard-coded event listener")}})),r.append(t)}else r.append(e);r.setState=t=>{r.onStateChangeF.length>0&&r.onStateChangeF.forEach((e=>e(t)));let{CustomEvent:n}=e;const s=new n(`newState-${r.secret_id}`,{detail:t});return r.state=t,o.dispatchEvent(s),r};const a=async e=>{let t={};for(let n=0;n<e.children.length;n++)t={...t,...await a(e.children[n])};if(void 0!==e.staticProps){let n=await e.staticProps();e.setState(n),t[e.secret_id]=n}return t};return r.attr("secret-id",r.secret_id),r.getStaticProps=async()=>await a(r),r.setCss=e=>{if("string"==typeof e){let t=e.split(";");for(const e of t){let[t,n]=e.split(":");if(!t||!n)throw new Error(`invalid css prop: ${t} and val: ${n}`);r.style[t]=n}}else{console.log("it's a function"),r.onStateChange((t=>{console.log("onstatechange css"),r.setCss(e(t))}));let t=e(r.state);console.log("css is",t),r.setCss(t)}return r},r},t.lR=(s=["href","referer"],e=>n=>(...o)=>{let r=(0,t.BD)(n)(e)(...o);for(const e of s)r[e]="",r[`$${e}`]=t=>(r[e]=t,r);return r})("a")}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}(()=>{var e=n(648);console.log("[INFO] client runtime intialized");const t=(0,e.BD)(window),[s,o,r]=["div","p","button"].map(t),i=(0,e.lR)(window),a=(...e)=>{const t=i(...e);return t.addEventListener("click",(e=>{if(t.href){e.preventDefault();const n={page_id:1,user_id:5},s="",o=t.href;history.pushState(n,s,o)}})),t};console.log("[INFO] example program initialized");const c=s("welcome to tolcanci, a UI framework"),l=s("I am a reusable component"),d=s("we allow for reusable components",l,l),p=r("press me"),h=s((e=>s(s(`the current count ${e}`),s(`the next count wil be ${e+1}`)).setCss(`font-size: ${e+10}px`)),p);h.noop("cheese"),p.addEventListener("click",(()=>{h.setState(h.state+1)}));const f=s("we allow for stateful components",h),u=s("this is a component with static props (generated at build time)",(e=>s(e))).noop("cheese"),v=s("I have style",o("and so do I")).setCss("color:red"),w=a("we support using links").$href("https://www.youtube.com/watch?v=dQw4w9WgXcQ"),g=s("this is an spa",a("go to stuff").$href("/someStuff"));var m;m=(e=>{const t=window,n=t.location.pathname,s=e[n.substr(t.basePath.length)];if(!s)throw new Error(`no component for path ${n}`);return s})({"":s(c,d,f,u,v,w,g),404:s("404 not found"),someStuff:s("stuff")}),document.body.innerHTML="",document.body.append(m)})()})();